{
	"Changes":[
        {
            "Action": "EditData",
            "Target": "Mods/Pathoschild.CentralStation/Tourists",
			"TargetField": ["Pathoschild.CentralStation", "Tourists"],
            "Fields": {
				"DesertRacerMan": {
					"Condition": "!IS_PASSIVE_FESTIVAL_TODAY DesertFestival, !{{Trader|contains=RacerGuy}}"
				},
				"DesertScholar": {
					"Condition": "!IS_PASSIVE_FESTIVAL_TODAY DesertFestival, !{{Trader|contains=Scholar}}"
                },
            },
        },
		{
			"Action": "Load",
			"Target": "Maps/CS_Merchant, Maps/CS_SailorCat, Maps/MovieConcessionCC_Daena, Maps/MovieConcessionCC_Naufal, Maps/MovieConcessionJoja_Daena, Maps/MovieConcessionJoja_Naufal",
			"Priority": "Low",
			"FromFile": "assets/LooseSprites/{{TargetWithoutPath}}.png"
		},
		{
            "Action": "EditData",
            "Target": "Mods/Pathoschild.CentralStation/Tourists",
            "Entries": {
                "DolphINaF.VendorPortraits": {
                    "FromMap": "{{InternalAssetKey: assets/Maps/CentralStation.tmx}}",
                    "Tourists": {
                        "MovieConcessionJoja_Naufal": {
                            "Index": 0,
							"Condition": "SYNCED_CHOICE day Naufal 1 2 1, ANY \"!PLAYER_HAS_MAIL Host ccMovieTheater, !{{Clerk|contains=Naufal}}\" \"PLAYER_HAS_MAIL Host ccMovieTheater, !PLAYER_HAS_MAIL Host ccMovieTheaterJoja, !{{Ticket|contains=Naufal}}, !{{Concession|contains=Naufal}}\" \"PLAYER_HAS_MAIL Host ccMovieTheaterJoja, !{{Ticket|contains=Naufal}}, !{{Concession|contains=Naufal}}, !{{Clerk|contains=Naufal}}\"",
                            "Dialogue": [
                                "{{i18n: CentralStation.Naufal.1}}",
                                "{{i18n: CentralStation.Naufal.2}}",
                                "{{i18n: CentralStation.Naufal.3}}"
                            ]
                        },
                        "MovieConcessionJoja_Daena": {
                            "Index": 1,
							"Condition": "SYNCED_CHOICE day Daena 1 2 1, ANY \"!PLAYER_HAS_MAIL Host ccMovieTheater, !{{Clerk|contains=Daena}}\" \"PLAYER_HAS_MAIL Host ccMovieTheater, !PLAYER_HAS_MAIL Host ccMovieTheaterJoja, !{{Ticket|contains=Default}}, !{{Concession|contains=Daena}}\" \"PLAYER_HAS_MAIL Host ccMovieTheaterJoja, !{{Ticket|contains=Default}}, !{{Concession|contains=Daena}}, !{{Clerk|contains=Daena}}\"",	
                            "Dialogue": [
                                "{{i18n: CentralStation.Daena.1}}",
                                "{{i18n: CentralStation.Daena.2}}",
                                "{{i18n: CentralStation.Daena.3}}#{{i18n: CentralStation.Daena.4}}"
                            ]
                        },
                        "MovieConcessionCC_Naufal": {
                            "Index": 2,
							"Condition": "SYNCED_CHOICE day Naufal 1 2 2, ANY \"!PLAYER_HAS_MAIL Host ccMovieTheater, !{{Clerk|contains=Naufal}}\" \"PLAYER_HAS_MAIL Host ccMovieTheater, !PLAYER_HAS_MAIL Host ccMovieTheaterJoja, !{{Ticket|contains=Naufal}}, !{{Concession|contains=Naufal}}\" \"PLAYER_HAS_MAIL Host ccMovieTheaterJoja, !{{Ticket|contains=Naufal}}, !{{Concession|contains=Naufal}}, !{{Clerk|contains=Naufal}}\"",
                            "Dialogue": [
                                "{{i18n: CentralStation.Naufal.1}}",
                                "{{i18n: CentralStation.Naufal.2}}",
                                "{{i18n: CentralStation.Naufal.3}}"
                            ]
                        },
                        "MovieConcessionCC_Daena": {
                            "Index": 3,
							"Condition": "SYNCED_CHOICE day Daena 1 2 2, ANY \"!PLAYER_HAS_MAIL Host ccMovieTheater, !{{Clerk|contains=Daena}}\" \"PLAYER_HAS_MAIL Host ccMovieTheater, !PLAYER_HAS_MAIL Host ccMovieTheaterJoja, !{{Ticket|contains=Default}}, !{{Concession|contains=Daena}}\" \"PLAYER_HAS_MAIL Host ccMovieTheaterJoja, !{{Ticket|contains=Default}}, !{{Concession|contains=Daena}}, !{{Clerk|contains=Daena}}\"",	
                            "Dialogue": [
                                "{{i18n: CentralStation.Daena.1}}",
                                "{{i18n: CentralStation.Daena.2}}",
                                "{{i18n: CentralStation.Daena.3}}#{{i18n: CentralStation.Daena.4}}"
                            ]
                        },
                        "MovieConcessionJoja_Default": {
                            "Index": 4,
							"Condition": "ANY \"!PLAYER_HAS_MAIL Host ccMovieTheaterJoja\" \"PLAYER_HAS_MAIL Host ccMovieTheaterJoja, !{{Ticket|contains=Shift}}, !{{Concession|contains=Default}}\"",	
                            "Dialogue": [
                                "{{i18n: CentralStation.Mark.1}}",
                                "{{i18n: CentralStation.Mark.2}}",
                            ]
                        },
                        "DesertTrader_Default": {
                            "Index": 5,
							"Condition": "!IS_PASSIVE_FESTIVAL_TODAY DesertFestival, !IS_PASSIVE_FESTIVAL_TODAY NightMarket, !{{Trader|contains=Default}}",	
                            "Dialogue": [
                                "{{i18n: CentralStation.Merchant.1}}",
                                "{{i18n: CentralStation.Merchant.2}}",
                            ]
                        },	
                        "DecorBoat_Cat": {
                            "Index": 6,
							"Condition": "!IS_PASSIVE_FESTIVAL_TODAY NightMarket",	
                            "Dialogue": [
                                "{{i18n: CentralStation.SailorCat.1}}",
                                "{{i18n: CentralStation.SailorCat.2}}",
                            ]
                        },							
                    }
                }
            }
        },
        {
            "Action": "Load",
            "Target": "Mods/DolphINaF.VendorPortraits/CS",
            "FromFile": "patches/blank.json",
			"Priority": "Low"
        },			
		{
            "Action": "EditData",
            "Target": "Data/TriggerActions",
            "Entries": {
                "DolphINaF.VendorPortraits_CS": {
                    "Id": "DolphINaF.VendorPortraits_CS",
                    "Trigger": "DayStarted",
					"MarkActionApplied": false,
                    "Actions": [
                        "Spiderbuttons.BETAS_WritePlayerModData DolphINaF.VendorPortraits_CSDaena 1",
						"Spiderbuttons.BETAS_WritePlayerModData DolphINaF.VendorPortraits_CSNaufal 1",
						"Spiderbuttons.BETAS_WritePlayerModData DolphINaF.VendorPortraits_CSMark 1",
						"Spiderbuttons.BETAS_WritePlayerModData DolphINaF.VendorPortraits_CSMerchant 1",
						"Spiderbuttons.BETAS_WritePlayerModData DolphINaF.VendorPortraits_CSSailorCat 1",					
                    ]
                },				
            },
			"When": {"HasMod": "Spiderbuttons.BETAS"}			
        },		
        {
            "Action": "EditData",
            "Target": "Mods/DolphINaF.VendorPortraits/CS",
            "Entries": {
                "Part-Timer": "{{i18n:CentralStation.PartTimer}}",
				"Merchant": "{{i18n:CentralStation.Merchant}}",
				"SailorCat": "{{i18n:CentralStation.SailorCat}}",
                "Daena.1": "{{i18n: CentralStation.Daena.1}}#$action Spiderbuttons.BETAS_WritePlayerModData DolphINaF.VendorPortraits_CSDaena 2",
				"Daena.2": "{{i18n: CentralStation.Daena.2}}#$action Spiderbuttons.BETAS_WritePlayerModData DolphINaF.VendorPortraits_CSDaena 3",
				"Daena.3": "{{i18n: CentralStation.Daena.3}}#$b#{{i18n: CentralStation.Daena.4}}#$action Spiderbuttons.BETAS_RemovePlayerModData DolphINaF.VendorPortraits_CSDaena",   
                "Naufal.1": "{{i18n: CentralStation.Naufal.1}}#$action Spiderbuttons.BETAS_WritePlayerModData DolphINaF.VendorPortraits_CSNaufal 2",
				"Naufal.2": "{{i18n: CentralStation.Naufal.2}}#$action Spiderbuttons.BETAS_WritePlayerModData DolphINaF.VendorPortraits_CSNaufal 3",
				"Naufal.3": "{{i18n: CentralStation.Naufal.3}}#$action Spiderbuttons.BETAS_RemovePlayerModData DolphINaF.VendorPortraits_CSNaufal",   
                "Mark.1": "{{i18n: CentralStation.Mark.1}}#$action Spiderbuttons.BETAS_WritePlayerModData DolphINaF.VendorPortraits_CSMark 2",
				"Mark.2": "{{i18n: CentralStation.Mark.2}}#$action Spiderbuttons.BETAS_RemovePlayerModData DolphINaF.VendorPortraits_CSMark",    
                "Merchant.1": "{{i18n: CentralStation.Merchant.1}}#$action Spiderbuttons.BETAS_WritePlayerModData DolphINaF.VendorPortraits_CSMerchant 2",
				"Merchant.2": "{{i18n: CentralStation.Merchant.2}}#$action Spiderbuttons.BETAS_RemovePlayerModData DolphINaF.VendorPortraits_CSMerchant",
                "SailorCat.1": "{{i18n: CentralStation.SailorCat.1}}#$action Spiderbuttons.BETAS_WritePlayerModData DolphINaF.VendorPortraits_CSSailorCat 2",
				"SailorCat.2": "{{i18n: CentralStation.SailorCat.2}}#$action Spiderbuttons.BETAS_RemovePlayerModData DolphINaF.VendorPortraits_CSSailorCat",				
            },
			"When": {"HasMod": "Spiderbuttons.BETAS"}			
        },		
        {
            "Action": "EditData",
            "Target": "Mods/Pathoschild.CentralStation/Tourists",
			"TargetField": ["DolphINaF.VendorPortraits", "Tourists"],
            "Fields": {
				"MovieConcessionJoja_Naufal": {
					"Dialogue": null
				},
				"MovieConcessionJoja_Daena": {
					"Dialogue": null
                },
				"MovieConcessionCC_Naufal": {
					"Dialogue": null
				},
				"MovieConcessionCC_Daena": {
					"Dialogue": null
                },
				"MovieConcessionJoja_Default": {
					"Dialogue": null
				},
				"DesertTrader_Default": {
					"Dialogue": null
                },
				"DecorBoat_Cat": {
					"Dialogue": null
                },				
            },
			"When": {"HasMod": "Spiderbuttons.BETAS"}
        },		
        {   
            "Action": "EditImage",
            "Target": "Maps/CS_Merchant",
            "FromFile": "assets/LooseSprites/CS_Merchant.png",
            "FromArea": { "X": 80, "Y": 0, "Width": 16, "Height": 32 },
            "ToArea": { "X": 0, "Y": 0, "Width": 16, "Height": 32 },
			"When": {"HasMod": "Poltergeister.SeasonalCuteCharacters"}
		},	
        {   
            "Action": "EditImage",
            "Target": "Maps/CS_Merchant",
            "FromFile": "assets/LooseSprites/CS_Merchant.png",
            "FromArea": { "X": 16, "Y": 16, "Width": 80, "Height": 16 },
            "ToArea": { "X": 16, "Y": 0, "Width": 80, "Height": 16 },
			"When": {"HasMod": "Poltergeister.SeasonalCuteCharacters"}			
		},		
		{
			"Action": "EditImage",
			"Target": "Portraits/MovieConcessionCC_Daena, Portraits/MovieConcessionJoja_Default, Portraits/MovieConcessionJoja_Daena",
			"FromFile": "assets/LooseSprites/Nyapu/CSPortrait_{{TargetWithoutPath}}.png",
			"Update": "OnLocationChange",				
			"When": {
                "LocationName": "Pathoschild.CentralStation_CentralStation",	
				"Nyapu": true				
			}
		},
	],
}