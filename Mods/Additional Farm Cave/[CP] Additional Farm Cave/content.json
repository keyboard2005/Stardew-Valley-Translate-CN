{
  "Format": "2.6.0",


    "ConfigSchema": {

      "Ts_AFC_EnableThisMod": { 
        "AllowValues": "true, false" ,
        "Default": "true" 
      },
      "Ts_AFC_OpenImmediately": { 
        "AllowValues": "true, false" ,
        "Default": "false" 
      },
      "Ts_AFC_AvoidCertainBugs": { 
        "AllowValues": "true, false" ,
        "Default": "false" 
      },

      "Ts_AFC_CRFCP_CaveType": { //Kisaa's Farm Cave Packの設定
        "AllowValues": "Off, Green, Quarry, Springs, Cove, Fantasy",
        "Default": "Off",
        "Section": "Ts_AFC_S_FarmCavePack"
      },

      "Ts_AFC_HFCV_CaveType": { //Hippo'sFarmCaveVarietyの設定
        "AllowValues": "farming, foraging, fishing, mining, combat, island, beach, hotspring",
        "AllowBlank": true,
        "Default": "farming",
        "Section": "Ts_AFC_Cautions"
      },
      "Ts_AFC_HFCV_MatchFarm": {
        "AllowValues": "true, false",
        "Default": true,
        "Section": "Ts_AFC_Cautions"
      },
      "Ts_AFC_HFCV_AlternateCombat": {
        "AllowValues": "combat, hotspring",
        "Default": "combat",
        "Section": "Ts_AFC_Cautions"
      },
      "Ts_AFC_HFCV_AlternateIsland": {
        "AllowValues": "island, beach",
        "Default": "island",
        "Section": "Ts_AFC_Cautions"
      }

    },//▼"ConfigSchema"の終了▼


    "CustomLocations": [

      {
        "Name": "Custom_AdditionalFarmCave",
        "FromMapFile": "assets/tmx/AdditionalFarmCave.tmx"
      },
      {
        "Name": "Custom_AdditionalFarmCave2",
        "FromMapFile": "assets/tmx/AdditionalFarmCave.tmx"
      }

    ],//▼"CustomLocations"の終了▼


    "Changes": [


  //★★★ タイルシート関係 ★★★

    //●タイルシートの読み込み
      {
        "Action": "Load",
        "Target": "Maps/z_AdditionalFarmCave",
        "FromFile": "assets/png/{{TargetWithoutPath}}.png"
      },
      {
        "Action": "Load",
        "Target": "Maps/z_AdditionalFarmCave_KsPF",
        "FromFile": "assets/png/{{TargetWithoutPath}}.png",
        "When": { "HasMod": "Kurimiu.PlantableFarmcave" }
      },


  //★★★ 共通項目(日光、ジュニモ、メッセージ、メール＆トリガー)の編集 ★★★

    //●日光の追加
      {
        "Action": "EditMap",
        "Target": "Maps/Custom_AdditionalFarmCave",
        "FromFile": "assets/tmx/AdditionalFarmCave_sunlight.tmx",
        "ToArea": { "X": 6, "Y": 0, "Width": 13, "Height": 12 },
        "When": { "Ts_AFC_EnableThisMod": "true" ,
          "Time": "{{range:0600,1800}}",
          "Weather |contains=rain,storm": false
        },
        "Update": "OnTimeChange"
      },

    //●夜のジュニモ追加
      {
        "Action": "EditMap",
        "Target": "Maps/Custom_AdditionalFarmCave",
        "FromFile": "assets/tmx/AdditionalFarmCave_nightjunimo.tmx",
        "ToArea": { "X": 4, "Y": 7, "Width": 3, "Height": 1 },
        "When": {
          "Ts_AFC_EnableThisMod": "true",
          "Time": "{{range:1800,2600}}"
        },
        "Update": "OnTimeChange"
      },

    //●日光の追加 2
      {
        "Action": "EditMap",
        "Target": "Maps/Custom_AdditionalFarmCave2",
        "FromFile": "assets/tmx/AdditionalFarmCave_sunlight.tmx",
        "ToArea": { "X": 6, "Y": 0, "Width": 13, "Height": 12 },
        "When": {
          "Ts_AFC_EnableThisMod": "true",
          "Time": "{{range:0600,1800}}",
          "Weather |contains=rain,storm": false
        },
        "Update": "OnTimeChange",
      },

    //●夜のジュニモ追加 2
      {
        "Action": "EditMap",
        "Target": "Maps/Custom_AdditionalFarmCave2",
        "FromFile": "assets/tmx/AdditionalFarmCave_nightjunimo.tmx",
        "ToArea": { "X": 4, "Y": 7, "Width": 3, "Height": 1 },
        "When": {
          "Ts_AFC_EnableThisMod": "true" ,
          "Time": "{{range:1800,2600}}"
        },
        "Update": "OnTimeChange"
      },

    //●メールデータ追加
      {
        "Action":"EditData",
        "Target":"Data/Mail",
        "Entries":{
          "{{ModId}}_CaveOpenMail": "{{i18n:Mail Text 01}}[#]{{i18n:Mail Title 01}}",
        }
      },

    //●トリガーアクションデータ追加(洞窟開放メール用)
      {
        "Action": "EditData",
        "Target": "Data/TriggerActions",
        "Entries": {
          "{{ModId}}_CaveOpenMail_Trigger": {
            "Id": "{{ModId}}_CaveOpenMail_Trigger",
            "Trigger": "DayStarted",
            "Actions": [
              "AddMail All {{ModId}}_CaveOpenMail now"
            ],
            "Condition": "PLAYER_FRIENDSHIP_POINTS Current Robin 750,PLAYER_FRIENDSHIP_POINTS Current Demetrius 500,PLAYER_HAS_SEEN_EVENT Current 65"
          }
        }
      },

    //●メッセージの追加
      {
        "Action":"EditData",
        "Target":"Strings/StringsFromMaps",
        "Entries":{
          "AdFCms01":"{{i18n:AdFCms01}}",
          "AdFCms02":"{{i18n:AdFCms02}}",
          "AdFCms03":"{{i18n:AdFCms03}}",
          "AdFCms04":"{{i18n:AdFCms04}}",
          "AdFCms05":"{{i18n:AdFCms05}}"
        }
      },


//■■■ バニラ環境時のエディットjson読み込み ■■■
      {
        "Action": "Include",
        "FromFile": "assets/json/Edit_Vanilla.json",
        "When": {
          "Ts_AFC_EnableThisMod": "true",
          "HasMod |contains=Hesper.HotSpringFarmcave": "false",
          "HasMod |contains=acearohippo.PCFCVariety": "false",
          "HasMod |contains=Aimon.MoreLivelyFarmCave": "false",
          "HasMod |contains=neuralwiles.HiddenSpringFarmCave": "false",
          "HasMod |contains=Wildflour.Hippo_Cliffside_FarmCave": "false",
          "HasMod |contains=Kurimiu.PlantableFarmcave": "false",
          "HasMod |contains=crystalinerose.FarmCaves": "false"
        }
      },


//■■■出入口変更の必要があるMODへの対応(それぞれのjsonへ飛ばす)■■■
      {
        "Action": "Include",
        "FromFile": "assets/json/Mod_01_HotSpringFarmCave.json",
        "When": {
          "Ts_AFC_EnableThisMod": "true",
          "HasMod": "Hesper.HotSpringFarmcave",
          "HasMod |contains=acearohippo.PCFCVariety": "false"
        }
      },
      {
        "Action": "Include",
        "FromFile": "assets/json/Mod_02_Hippo'sFarmCaveVariety_01_farming.json",
        "When": {
          "Ts_AFC_EnableThisMod": "true",
          "HasMod": "acearohippo.PCFCVariety",
          "Query: ('{{Ts_AFC_HFCV_MatchFarm}}' = 'false' AND '{{Ts_AFC_HFCV_CaveType}}' = 'farming') OR ('{{Ts_AFC_HFCV_MatchFarm}}' = 'true' AND '{{FarmType}}' = 'Standard')": true
        }
      },
      {
        "Action": "Include",
        "FromFile": "assets/json/Mod_02_Hippo'sFarmCaveVariety_02_foraging.json",
        "When": {
          "Ts_AFC_EnableThisMod": "true",
          "HasMod": "acearohippo.PCFCVariety",
          "Query: ('{{Ts_AFC_HFCV_MatchFarm}}' = 'false' AND '{{Ts_AFC_HFCV_CaveType}}' = 'foraging') OR ('{{Ts_AFC_HFCV_MatchFarm}}' = 'true' AND '{{FarmType}}' = 'Forest')": true
        }
      },
      {
        "Action": "Include",
        "FromFile": "assets/json/Mod_02_Hippo'sFarmCaveVariety_03_fishing.json",
        "When": {
          "Ts_AFC_EnableThisMod": "true",
          "HasMod": "acearohippo.PCFCVariety",
          "Query: ('{{Ts_AFC_HFCV_MatchFarm}}' = 'false' AND '{{Ts_AFC_HFCV_CaveType}}' = 'fishing') OR ('{{Ts_AFC_HFCV_MatchFarm}}' = 'true' AND '{{FarmType}}' = 'Riverland')": true
        }
      },
      {
        "Action": "Include",
        "FromFile": "assets/json/Mod_02_Hippo'sFarmCaveVariety_04_mining.json",
        "When": {
          "Ts_AFC_EnableThisMod": "true",
          "HasMod": "acearohippo.PCFCVariety",
          "Query: ('{{Ts_AFC_HFCV_MatchFarm}}' = 'false' AND '{{Ts_AFC_HFCV_CaveType}}' = 'mining') OR ('{{Ts_AFC_HFCV_MatchFarm}}' = 'true' AND '{{FarmType}}' = 'Hilltop')": true
        }
      },
      {
        "Action": "Include",
        "FromFile": "assets/json/Mod_02_Hippo'sFarmCaveVariety_05_combat.json",
        "When": {
          "Ts_AFC_EnableThisMod": "true",
          "HasMod": "acearohippo.PCFCVariety",
          "Query: ('{{Ts_AFC_HFCV_MatchFarm}}' = 'false' AND '{{Ts_AFC_HFCV_CaveType}}' = 'combat') OR ('{{Ts_AFC_HFCV_MatchFarm}}' = 'true' AND '{{FarmType}}' = 'Wilderness' AND '{{Ts_AFC_HFCV_AlternateCombat}}' = 'combat')": true
        }
      },
      {
        "Action": "Include",
        "FromFile": "assets/json/Mod_02_Hippo'sFarmCaveVariety_06_island.json",
        "When": {
          "Ts_AFC_EnableThisMod": "true",
          "HasMod": "acearohippo.PCFCVariety",
          "Query: ('{{Ts_AFC_HFCV_MatchFarm}}' = 'false' AND '{{Ts_AFC_HFCV_CaveType}}' = 'island') OR ('{{Ts_AFC_HFCV_MatchFarm}}' = 'true' AND '{{FarmType}}' = 'Beach' AND '{{Ts_AFC_HFCV_AlternateIsland}}' = 'island')": true
        }
      },
      {
        "Action": "Include",
        "FromFile": "assets/json/Mod_02_Hippo'sFarmCaveVariety_07_beach.json",
        "When": {
          "Ts_AFC_EnableThisMod": "true",
          "HasMod": "acearohippo.PCFCVariety",
          "Query: ('{{Ts_AFC_HFCV_MatchFarm}}' = 'false' AND '{{Ts_AFC_HFCV_CaveType}}' = 'beach') OR ('{{Ts_AFC_HFCV_MatchFarm}}' = 'true' AND '{{FarmType}}' = 'Beach' AND '{{Ts_AFC_HFCV_AlternateIsland}}' = 'beach')": true
        }
      },
      {
        "Action": "Include",
        "FromFile": "assets/json/Mod_02_Hippo'sFarmCaveVariety_08_hotspring.json",
        "When": {
          "Ts_AFC_EnableThisMod": "true",
          "HasMod": "acearohippo.PCFCVariety",
          "HasMod": "Hesper.HotSpringFarmcave",
          "Query: ('{{Ts_AFC_HFCV_MatchFarm}}' = 'false' AND '{{Ts_AFC_HFCV_CaveType}}' = 'hotspring') OR ('{{Ts_AFC_HFCV_MatchFarm}}' = 'true' AND '{{FarmType}}' = 'Wilderness' AND '{{Ts_AFC_HFCV_AlternateCombat}}' = 'hotspring')": true
        }
      },
      {
        "Action": "Include",
        "FromFile": "assets/json/Mod_03_Aimon'sMoreLivelyFarmCave.json",
        "When": {
          "Ts_AFC_EnableThisMod": "true",
          "HasMod": "Aimon.MoreLivelyFarmCave"
        }
      },
      {
        "Action": "Include",
        "FromFile": "assets/json/Mod_04_HiddenSpringFarmCave.json",
        "When": {
          "Ts_AFC_EnableThisMod": "true",
          "HasMod": "neuralwiles.HiddenSpringFarmCave"
        }
      },
      {
        "Action": "Include",
        "FromFile": "assets/json/Mod_05_HipposCliffsideFallsFarmCave.json",
        "When": {
          "Ts_AFC_EnableThisMod": "true",
          "HasMod": "Wildflour.Hippo_Cliffside_FarmCave"
        }
      },
      {
        "Action": "Include",
        "FromFile": "assets/json/Mod_06_KurisPlantableFarmcave.json",
        "When": {
          "Ts_AFC_EnableThisMod": "true",
          "HasMod": "Kurimiu.PlantableFarmcave"
        }
      },
      {
        "Action": "Include",
        "FromFile": "assets/json/Mod_07_CRFarmCavePack_00_Off.json",
        "When": {
          "Ts_AFC_EnableThisMod": "true",
          "HasMod": "crystalinerose.FarmCaves",
          "Ts_AFC_CRFCP_CaveType": "Off"
        }
      },
      {
        "Action": "Include",
        "FromFile": "assets/json/Mod_07_CRFarmCavePack_01_Green.json",
        "When": {
          "Ts_AFC_EnableThisMod": "true",
          "HasMod": "crystalinerose.FarmCaves",
          "Ts_AFC_CRFCP_CaveType": "Green"
        }
      },
      {
        "Action": "Include",
        "FromFile": "assets/json/Mod_07_CRFarmCavePack_02_Quarry.json",
        "When": {
          "Ts_AFC_EnableThisMod": "true",
          "HasMod": "crystalinerose.FarmCaves",
          "Ts_AFC_CRFCP_CaveType": "Quarry"
        }
      },
      {
        "Action": "Include",
        "FromFile": "assets/json/Mod_07_CRFarmCavePack_03_Springs.json",
        "When": {
          "Ts_AFC_EnableThisMod": "true",
          "HasMod": "crystalinerose.FarmCaves",
          "Ts_AFC_CRFCP_CaveType": "Springs"
        }
      },
      {
        "Action": "Include",
        "FromFile": "assets/json/Mod_07_CRFarmCavePack_04_Cove.json",
        "When": {
          "Ts_AFC_EnableThisMod": "true",
          "HasMod": "crystalinerose.FarmCaves",
          "Ts_AFC_CRFCP_CaveType": "Cove"
        }
      },
      {
        "Action": "Include",
        "FromFile": "assets/json/Mod_07_CRFarmCavePack_05_Fantasy.json",
        "When": {
          "Ts_AFC_EnableThisMod": "true",
          "HasMod": "crystalinerose.FarmCaves",
          "Ts_AFC_CRFCP_CaveType": "Fantasy"
        }
      }


    ]//▼▼"Changes"の終了▼▼
}
